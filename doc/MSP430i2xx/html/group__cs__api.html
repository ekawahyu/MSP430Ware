<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Cs_api</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="$relpath/search.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<table width="100%">
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border="0" src="tilogo.gif" /></a></td>
  <td bgcolor="red"><img src="titagline.gif" /></td>
</tr>
</table>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
<tbody>
<tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">MSP430 Driver Library
   &#160;<span id="projectnumber">1.90.00.65</span>
   </div>
  </td>
</tr>
</tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Cs_api</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga5eda87f0ab6ab70d03f6889c6b158825"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cs__api.html#ga5eda87f0ab6ab70d03f6889c6b158825">CS_DCO_FREQ</a>&#160;&#160;&#160;16384000</td></tr>
<tr class="separator:ga5eda87f0ab6ab70d03f6889c6b158825"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gafdd5b4799655611e9eda3e9407447233"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cs__api.html#gafdd5b4799655611e9eda3e9407447233">CS_setupDCO</a> (uint8_t mode)</td></tr>
<tr class="memdesc:gafdd5b4799655611e9eda3e9407447233"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up the DCO using the selected mode.  <a href="#gafdd5b4799655611e9eda3e9407447233">More...</a><br/></td></tr>
<tr class="separator:gafdd5b4799655611e9eda3e9407447233"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga426e92fbd4c0eabac2b56c92722a8726"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cs__api.html#ga426e92fbd4c0eabac2b56c92722a8726">CS_clockSignalInit</a> (uint8_t clockSource, uint8_t clockSourceDivider)</td></tr>
<tr class="memdesc:ga426e92fbd4c0eabac2b56c92722a8726"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a clock singal with a divider.  <a href="#ga426e92fbd4c0eabac2b56c92722a8726">More...</a><br/></td></tr>
<tr class="separator:ga426e92fbd4c0eabac2b56c92722a8726"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0fa3d27598e86f1098a96dd041673141"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cs__api.html#ga0fa3d27598e86f1098a96dd041673141">CS_getACLK</a> (void)</td></tr>
<tr class="memdesc:ga0fa3d27598e86f1098a96dd041673141"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current ACLK frequency in Hz.  <a href="#ga0fa3d27598e86f1098a96dd041673141">More...</a><br/></td></tr>
<tr class="separator:ga0fa3d27598e86f1098a96dd041673141"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae012353ccb47ae03e7b0939a12d79c3c"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cs__api.html#gae012353ccb47ae03e7b0939a12d79c3c">CS_getSMCLK</a> (void)</td></tr>
<tr class="memdesc:gae012353ccb47ae03e7b0939a12d79c3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current SMCLK frequency in Hz.  <a href="#gae012353ccb47ae03e7b0939a12d79c3c">More...</a><br/></td></tr>
<tr class="separator:gae012353ccb47ae03e7b0939a12d79c3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2e02ddb15b854383842bbc8f52fa050d"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cs__api.html#ga2e02ddb15b854383842bbc8f52fa050d">CS_getMCLK</a> (void)</td></tr>
<tr class="memdesc:ga2e02ddb15b854383842bbc8f52fa050d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current MCLK frequency in Hz.  <a href="#ga2e02ddb15b854383842bbc8f52fa050d">More...</a><br/></td></tr>
<tr class="separator:ga2e02ddb15b854383842bbc8f52fa050d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga350194b6fb656a932c5f6d0efcbcc6df"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cs__api.html#ga350194b6fb656a932c5f6d0efcbcc6df">CS_faultFlagStatus</a> (uint8_t mask)</td></tr>
<tr class="memdesc:ga350194b6fb656a932c5f6d0efcbcc6df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the DCO fault flag status.  <a href="#ga350194b6fb656a932c5f6d0efcbcc6df">More...</a><br/></td></tr>
<tr class="separator:ga350194b6fb656a932c5f6d0efcbcc6df"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga5eda87f0ab6ab70d03f6889c6b158825"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CS_DCO_FREQ&#160;&#160;&#160;16384000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="group__cs__api.html#ga2e02ddb15b854383842bbc8f52fa050d">CS_getMCLK()</a>, and <a class="el" href="group__cs__api.html#gae012353ccb47ae03e7b0939a12d79c3c">CS_getSMCLK()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gafdd5b4799655611e9eda3e9407447233"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CS_setupDCO </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets up the DCO using the selected mode. </p>
<p>Sets up the DCO using the selected mode. If the bypass mode is selected than an external digital clock is required on the CLKIN pin to drive all clocks on the device. ACLK frequency is not programmable and is fixed to the bypass clock frequency divided by 512. For external resistor mode a 20kOhm resistor is recommended at the ROSC pin. External resistor mode offers higer clock accuracy in terms of absolute tolerance and temperature drift compared to the internal resistor mode. Please check your device datasheet for details and ratings for the differnt modes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mode</td><td>Mode to put the DCO into Valid values are:<ul>
<li><b>CS_INTERNAL_RESISTOR</b> - DCO operation with internal resistor</li>
<li><b>CS_EXTERNAL_RESISTOR</b> - DCO operation with external resistor</li>
<li><b>CS_BYPASS_MODE</b> - Bypass mode, provide external clock signal</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

<p>References <a class="el" href="cs_8h.html#a65679531e3edea4c836b6b73ffde07d9">CS_EXTERNAL_RESISTOR</a>, <a class="el" href="cs_8h.html#aeb21e37dfb1e75ba7ba6d7de39218a1c">CS_INTERNAL_RESISTOR</a>, <a class="el" href="_c_c_s_2msp430i2020_8h.html#ae84ad3bc8dda2eda3f8ef859e25e22a1">DCOBYP</a>, <a class="el" href="_c_c_s_2msp430i2020_8h.html#a1d526d03aaeddc3446a21c452f995793">DCOR</a>, <a class="el" href="driverlib_2_m_s_p430i2xx_2inc_2hw__regaccess_8h.html#a437bba8c6aaa7542f8d7522146157b42">HWREG8</a>, <a class="el" href="_c_c_s_2msp430i2020_8h.html#a696fcec397bccb3bbe158c1afb82f406">TLV_CAL_CSERFCAL</a>, <a class="el" href="_c_c_s_2msp430i2020_8h.html#a64149999e26622e7f73ad9e14daa8450">TLV_CAL_CSERTCAL</a>, <a class="el" href="_c_c_s_2msp430i2020_8h.html#aadbdf676dbc0631d735dd84ab37fb018">TLV_CAL_CSIRFCAL</a>, <a class="el" href="_c_c_s_2msp430i2020_8h.html#ab6d1f71d3cf2ce298be172c5cb6c3533">TLV_CAL_CSIRTCAL</a>, and <a class="el" href="_c_c_s_2msp430i2020_8h.html#a3f2902197dc6ef9f691916b1454006ca">TLV_START</a>.</p>

</div>
</div>
<a class="anchor" id="ga426e92fbd4c0eabac2b56c92722a8726"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CS_clockSignalInit </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>clockSource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>clockSourceDivider</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a clock singal with a divider. </p>
<p>Sets up a clock signal with a divider. If the DCO is in bypass mode the frequency will be CLKIN / divider. If the DCO is not in bypass mode the frequency will 16.384MHz / divider.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clockSource</td><td>Clock signal to initialize Valid values are:<ul>
<li><b>CS_MCLK</b> </li>
<li><b>CS_SMCLK</b> </li>
</ul>
</td></tr>
    <tr><td class="paramname">clockSourceDivider</td><td>Divider setting for the selected clock signal Valid values are:<ul>
<li><b>CS_CLOCK_DIVIDER_1</b> </li>
<li><b>CS_CLOCK_DIVIDER_2</b> </li>
<li><b>CS_CLOCK_DIVIDER_4</b> </li>
<li><b>CS_CLOCK_DIVIDER_8</b> </li>
<li><b>CS_CLOCK_DIVIDER_16</b> </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

<p>References <a class="el" href="cs_8h.html#a5b3e1fc06f5e5d260e744995c8776ea4">CS_SMCLK</a>, and <a class="el" href="_c_c_s_2msp430i2020_8h.html#ae81796d59dc1f56cb6c324d38f90aa65">DIVM_7</a>.</p>

</div>
</div>
<a class="anchor" id="ga0fa3d27598e86f1098a96dd041673141"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t CS_getACLK </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current ACLK frequency in Hz. </p>
<p>This API returns the current ACLK frequency in Hz. It does not work when the device is setup in DCO bypass mode. Also, <a class="el" href="group__cs__api.html#gafdd5b4799655611e9eda3e9407447233" title="Sets up the DCO using the selected mode. ">CS_setupDCO()</a> should be called before this API so that the DCO has been calibrated and this calculation is accurate.</p>
<dl class="section return"><dt>Returns</dt><dd>Current ACLK frequency in Hz, 0 when in bypass mode </dd></dl>

</div>
</div>
<a class="anchor" id="gae012353ccb47ae03e7b0939a12d79c3c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t CS_getSMCLK </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current SMCLK frequency in Hz. </p>
<p>This API returns the current SMCLK frequency in Hz. It does not work when the device is setup in DCO bypass mode. Also, <a class="el" href="group__cs__api.html#gafdd5b4799655611e9eda3e9407447233" title="Sets up the DCO using the selected mode. ">CS_setupDCO()</a> should be called before this API so that the DCO has been calibrated and this calculation is accurate.</p>
<dl class="section return"><dt>Returns</dt><dd>Current SMCLK frequency in Hz, 0 when in bypass mode </dd></dl>

<p>References <a class="el" href="group__cs__api.html#ga5eda87f0ab6ab70d03f6889c6b158825">CS_DCO_FREQ</a>.</p>

</div>
</div>
<a class="anchor" id="ga2e02ddb15b854383842bbc8f52fa050d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t CS_getMCLK </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current MCLK frequency in Hz. </p>
<p>This API returns the current MCLK frequency in Hz. It does not work when the device is setup in DCO bypass mode. Also, <a class="el" href="group__cs__api.html#gafdd5b4799655611e9eda3e9407447233" title="Sets up the DCO using the selected mode. ">CS_setupDCO()</a> should be called before this API so that the DCO has been calibrated and this calculation is accurate.</p>
<dl class="section return"><dt>Returns</dt><dd>Current MCLK frequency in Hz, 0 when in bypass mode </dd></dl>

<p>References <a class="el" href="group__cs__api.html#ga5eda87f0ab6ab70d03f6889c6b158825">CS_DCO_FREQ</a>.</p>

</div>
</div>
<a class="anchor" id="ga350194b6fb656a932c5f6d0efcbcc6df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t CS_faultFlagStatus </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>mask</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the DCO fault flag status. </p>
<p>Reads and returns DCO fault flag. The DCO fault flag is set when the DCO is operating in external resistor mode and the DCO detects an abnormality. An abnormality could be if the ROSC pin is left open or shorted to ground, or if the resistance connected at the ROSC pin is far away from the recommended value. If the fault persists the DCO automatically switches to the internal resistor mode as a fail-safe mechanism.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mask</td><td>Mask of fault flags to check Mask value is the logical OR of any of the following:<ul>
<li><b>CS_DCO_FAULT_FLAG</b> </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Logical OR of any of the following:<ul>
<li><b>CS_DCO_FAULT_FLAG</b> <br/>
 indicating if the masked fault flags are set </li>
</ul>
</dd></dl>

</div>
</div>
</div><!-- contents -->
<hr size="1" /><small>
Copyright  2014, Texas Instruments Incorporated</small>
</body>
</html>
